<%layout('layout')%>
<%- block('styles').append('<link rel="stylesheet" href="/css/form.css">') %>
<div class="col-8 offset-2">
    <h1>Edit the listing</h1>
    <form action="/listings/<%=details._id%>?_method=PUT" method="post" enctype="multipart/form-data" novalidate class="needs-validation">

        <div class="row">
            <div class="col-8">
                <label for="title" class="form-label">Title</label>
                <input id="title" name="title" type="text" value='<%=details.title%>' class="form-control" required>
                <div class="valid-feedback">Look good!</div> 
                <div class="invalid-feedback">Give a title</div> 
            </div>
    
            <div class="col-4">
                <label for="price" class="form-label">Price</label>
                <input id="price" name="price" type="number" value='<%=details.price%>' class="form-control" required> 
                <div class="invalid-feedback">Enter a valid price</div> 
            </div>
        </div> <br>
        <label for="curr-image" class="form-label">Current image</label><br>
        <img src="<%= originalImage %>" alt="image loading"><br>

        <label for="image" class="form-label">Upload new image</label>
        <input id="image" name="image" type="file" class="form-control"><br>

        <label for="description" class="form-label">Description</label>
        <textarea name="description" id="description" rows="10" cols="100" class="form-control"><%=details.description%></textarea> <br> 

        <div class="row">
            <div class="col-4">
                <label for="location" class="form-label">Location</label>
                <input id="location" name="location" type="text" value='<%=details.location%>' class="form-control" required>
                <div class="invalid-feedback">location should be valid</div> 
            </div>

            <div class="col-8">
                <label for="country" class="form-label">Country</label>
                <input id="country" name="country" type="text" value='<%=details.country%>' class="form-control" required>
                <div class="invalid-feedback">country should be valid</div> 
            </div>

        </div> 
        <br>

        <button type="submit" class="btn btn-danger red-btn"><b>Edit</b></button> 
    </form>
    <br>
</div>